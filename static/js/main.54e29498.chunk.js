(this["webpackJsonpgit-dash"]=this["webpackJsonpgit-dash"]||[]).push([[0],{63:function(e,t,n){e.exports=n(81)},71:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),l=n.n(o),c=n(30),i=n(31),s=n(35),u=n(18),m=n(12),d=n(16),f=n(5),p=function(e,t){var n,a=localStorage.getItem(e);return a?(n=a,JSON.parse(n)):t},b=function(e,t){return localStorage.setItem(e,(n=t,JSON.stringify(n)));var n},g=function(e,t){var n=Object(a.useRef)(e),r=Object(a.useState)((function(){return p(n.current,t)})),o=Object(f.a)(r,2),l=o[0],c=o[1];return Object(a.useEffect)((function(){b(n.current,l)}),[l]),[l,c]},E="AUTH",v="SELECTED_REPOS",h="LABEL_WHITELIST",x="LABEL_BLACKLIST",y="LABEL_FILTER_ENABLED",w="LABEL_FILTER_MODE",O="DARK_MODE",k="REPO_PICKER_OPEN",N="DRAFTS_WHITELISTED",j="DRAFTS_BLACKLISTED",R="WHITELIST",C="BLACKLIST",S=function(){var e=g(O,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){n?document.documentElement.classList.add("mode-dark"):document.documentElement.classList.remove("mode-dark")}),[n]),Object(a.useMemo)((function(){return{isDarkMode:n,toggleDarkMode:function(){r((function(e){return!e}))}}}),[n,r])},M=Object(a.createContext)(),A=function(){return Object(a.useContext)(M)},D=function(e){var t=e.children,n=function(){var e=g(E,""),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(a.useMemo)((function(){return{token:n,setToken:r}}),[n,r])}(),o=function(){var e=g(v,[]),t=Object(f.a)(e,2),n=t[0],r=t[1],o=Object(a.useMemo)((function(){return e=function(e){return e.owner.login},n.reduce((function(t,n,a){var r=e(n,a);return t[r]?t[r].push(n):t[r]=[n],t}),{});var e}),[n]),l=Object(a.useMemo)((function(){return n.map((function(e){return e.nameWithOwner}))}),[n]);return Object(a.useMemo)((function(){return{repos:n,groupedRepos:o,repoKeys:l,containsRepo:function(e){return l.includes(e.nameWithOwner)},addRepo:function(e){r((function(t){return[].concat(Object(d.a)(t),[e])}))},addRepos:function(e){r((function(t){return[].concat(Object(d.a)(t),Object(d.a)(e))}))},removeRepo:function(e){r((function(t){return t.filter((function(t){return t.nameWithOwner!==e.nameWithOwner}))}))}}}),[n,o,l,r])}(),l=function(){var e=C,t=R,n=g(y,!1),r=Object(f.a)(n,2),o=r[0],l=r[1],c=g(w,e),i=Object(f.a)(c,2),s=i[0],u=i[1],m=g(h,[]),p=Object(f.a)(m,2),b=p[0],E=p[1],v=g(x,[]),O=Object(f.a)(v,2),k=O[0],N=O[1],j=Object(a.useCallback)((function(e){return function(t){return t.findIndex((function(t){return t.name===e.name}))>=0?t:[].concat(Object(d.a)(t),[e])}}),[]);return Object(a.useMemo)((function(){return{whitelist:b,blacklist:k,filterMode:s,filterList:s===t?b:k,filterEnabled:o,listHasLabel:function(e,t){return e.findIndex((function(e){return e.name===t.name}))>=0},toggleFilter:function(){l((function(e){return!e}))},toggleFilterMode:function(){u((function(n){return n===t?e:t}))},addToWhitelist:function(e){E(j(e))},clearWhitelist:function(){E([])},removeFromWhitelist:function(e){E((function(t){return t.filter((function(t){return t.name!==e.name}))}))},addToBlacklist:function(e){N(j(e))},clearBlacklist:function(){N([])},removeFromBlacklist:function(e){N((function(t){return t.filter((function(t){return t.name!==e.name}))}))}}}),[b,k,E,N,s,u,o,l,e,t,j])}(),c=S(),i=function(){var e=g(N,!1),t=Object(f.a)(e,2),n=t[0],a=t[1],r=g(j,!1),o=Object(f.a)(r,2),l=o[0],c=o[1];return{whitelisted:n,blacklisted:l,toggleWhitelisted:function(){a((function(e){return!e}))},toggleBlacklisted:function(){c((function(e){return!e}))}}}(),s=Object(a.useMemo)((function(){return{auth:n,selectedRepos:o,labels:l,darkMode:c,drafts:i}}),[n,o,l,c,i]);return r.a.createElement(M.Provider,{value:s},t)},T=function(e){var t=e.children,n=A().auth.token,o=Object(a.useMemo)((function(){return new i.a}),[]),l=Object(a.useMemo)((function(){return new s.a({uri:"https://api.github.com/graphql",headers:{authorization:"bearer ".concat(n)}})}),[n]),c=Object(a.useMemo)((function(){return new u.a({link:l,cache:o})}),[l,o]);return r.a.createElement(m.a,{client:c},t)},I=function(e){return Object(a.useMemo)((function(){return Object.entries(e).reduce((function(e,t){var n=Object(f.a)(t,2),a=n[0],r=n[1];return e[a]=Array.isArray(r)?r.join(" "):r,e}),{})}),[e])},L=function(e){var t=e.children,n=I({container:"\n      px-8 max-w-5xl mx-auto h-full\n    "});return r.a.createElement("div",{className:n.container},t)},W=n(27),B=n(20),P=n(28),F=n(24),q=n(23);function _(){var e=Object(P.a)(["\n  {\n    viewer {\n      repositories(\n        first: 12\n        affiliations: [OWNER, ORGANIZATION_MEMBER, COLLABORATOR]\n        ownerAffiliations: [OWNER, ORGANIZATION_MEMBER, COLLABORATOR]\n        orderBy: { field: UPDATED_AT, direction: DESC }\n      ) {\n        nodes {\n          name\n          nameWithOwner\n          owner {\n            login\n            avatarUrl\n          }\n        }\n      }\n    }\n  }\n"]);return _=function(){return e},e}var U=Object(F.a)(_()),H=n(97),G=n(96),$=(n(71),function(e){var t=e.repos,n=e.onRepoClick,a=void 0===n?null:n,o=e.removable,l=void 0!==o&&o,c=I({repos:"\n        flex flex-row items-center justify-center flex-wrap mb-4\n    ",repo:"\n        bg-gray-400 dark:bg-gray-800\n        focus:bg-purple-300 dark-focus:bg-purple-800\n        text-gray-800 dark:text-gray-400\n        focus:text-purple-800 dark-focus:text-purple-300\n        inline-block whitespace-no-wrap\n        m-1 rounded-full p-1 pr-3\n        flex flex-row items-center\n\n        hover:bg-gray-500\n        focus:outline-none\n    ",imageContainer:"\n        relative mr-2 rounded-full overflow-hidden\n    ",removeOverlay:"\n        absolute top-0 bottom-0 right-0 left-0\n        bg-gray-600\n        flex items-center justify-center\n        opacity-75\n    ",removeIcon:"text-gray-200 text-xs leading-none",image:"\n        w-6 h-6\n    ",text:"\n        text-sm leading-none font-semibold\n    "});return r.a.createElement(H.a,{className:c.repos},t.map((function(e){return r.a.createElement(G.a,{key:e.nameWithOwner,timeout:200,classNames:"item"},r.a.createElement("button",{className:c.repo,onClick:a?a(e):null},r.a.createElement("div",{className:c.imageContainer},r.a.createElement("img",{src:e.owner.avatarUrl,className:c.image,alt:e.nameWithOwner}),l?r.a.createElement("div",{className:c.removeOverlay},r.a.createElement("p",{className:c.removeIcon},"\u2715")):null),r.a.createElement("p",{className:c.text},e.nameWithOwner)))})))}),z=n(47),K=n.n(z),J=function(e){var t=e.open,n=e.selectedCount,a=e.onClick,o=I({button:"\n      py-2 px-1 mr-8\n      border-b border-t border-gray-400 dark:border-gray-850\n      text-gray-800 dark:text-white text-sm leading-loose\n      flex justify-between w-full\n      focus:outline-none\n    ",icon:"\n      transition transition-transform duration-200 ease-in-out\n      transform rotate-90\n    ",open:"\n       rotate-180\n    ",count:"\n       font-bold\n    "}),l=0!==n||t?" ".concat(1===n?"repository":"repositories"," selected"):"Click to select repositories you want to see";return r.a.createElement("button",{className:o.button,onClick:a},r.a.createElement("div",{className:[o.icon,t?o.open:null]},r.a.createElement(K.a,null)),r.a.createElement("div",null,r.a.createElement("span",{className:o.count},t?n:n||""),l))},Q=n(49),V=n.n(Q),Z=n(50),X=n.n(Z),Y=function(){var e=A().darkMode,t=I({container:"\n        flex flex-row items-center justify-end\n    ",icon:"\n        text-gray-600\n    ",switch:"\n        bg-gray-400 dark:bg-gray-800\n        box-content\n        border-2 border-gray-400 dark:border-gray-800\n        w-12 h-6 rounded-full\n        relative\n        focus:outline-none\n        transition-shadow duration-200\n        active:shadow\n        mx-2\n    ",knob:"\n        w-6 h-6 rounded-full\n        bg-gray-200 dark:bg-gray-700\n        absolute top-0 left-1/2\n        transition-transform duration-200\n        transform translate-x-0\n    ",knobInactive:"\n        -translate-x-full\n    "});return r.a.createElement("div",{className:t.container},r.a.createElement(V.a,{className:t.icon,fontSize:"small"}),r.a.createElement("button",{onClick:function(){return e.toggleDarkMode()},className:t.switch},r.a.createElement("div",{className:[t.knob,e.isDarkMode?t.knobActive:t.knobInactive]})),r.a.createElement(X.a,{className:t.icon,fontSize:"small"}))},ee=n(51),te=n.n(ee);function ne(){var e=Object(P.a)(["\n  query Repositories($query: String!, $limit: Int!) {\n    search(query: $query, type: REPOSITORY, last: $limit) {\n      nodes {\n        ... on Repository {\n          name\n          nameWithOwner\n          owner {\n            login\n            avatarUrl\n          }\n        }\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var ae=Object(F.a)(ne()),re=function(){var e=I({modalInner:"\n        h-full flex flex-col\n        relative\n    ",container:"\n        flex flex-row items-center justify-center\n    ",button:"\n        bg-gray-400 dark:bg-gray-800\n        rounded-full p-3 px-5\n        text-gray-800 dark:text-gray-400\n        focus:text-purple-800 dark-focus:text-purple-300\n        opacity-75\n        focus:outline-none\n        focus:bg-purple-300 dark-focus:bg-purple-800\n    ",text:"\n        text-sm leading-none font-semibold text-gray-800 dark:text-gray-400\n    ",inputContainer:"\n        bg-gray-200 block w-full rounded overflow-none\n        flex flex-row\n        mb-4\n    ",iconContainer:"\n        flex items-center justify-center p-2 pl-3\n    ",icon:"\n        opacity-50\n    ",input:"\n        p-2 pl-0 w-full bg-gray-200 rounded\n        flex-1\n        focus:outline-none\n    ",emptyText:"\n        text-gray-700 text-sm leading-none\n    ",buttonContainer:"\n        flex flex-row justify-end w-full\n    ",saveButton:"\n        p-2 px-3 bg-purple-600 leading-none rounded\n        text-purple-100\n        disabled:opacity-50 \n    "}),t=Object(c.d)(),n=t.isModalOpen,o=t.openModal,l=t.closeModal,i=A().selectedRepos,s=Object(a.useState)(""),u=Object(f.a)(s,2),m=u[0],p=u[1],b=Object(a.useState)([]),g=Object(f.a)(b,2),E=g[0],v=g[1],h=E.map((function(e){return e.nameWithOwner})),x=function(e){var t=Object(q.a)(ae,{variables:{query:e,limit:10}}),n=t.data,a=Object(B.a)(t,["data"]);return Object(W.a)({data:n,repos:n?n.search.nodes:[]},a)}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Object(a.useState)(e),r=Object(f.a)(n,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){l(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),o}(m)),y=x.loading,w=x.repos;return r.a.createElement("div",{className:e.container},r.a.createElement("button",{className:e.button,onClick:o},r.a.createElement("p",{className:e.text},"Add Other Repo")),r.a.createElement(c.a,{id:"add-other-repo-modal",isOpen:n,onBackdropClick:l,transition:c.c.TOP_DOWN},r.a.createElement("div",{className:e.modalInner},r.a.createElement("div",{className:e.inputContainer},r.a.createElement("div",{className:e.iconContainer},r.a.createElement(te.a,{className:e.icon})),r.a.createElement("input",{value:m,onChange:function(e){return p(e.target.value)},className:e.input,placeholder:"Search for a repo, e.g. jakewtaylor/git-dash"})),y||w.length<1?r.a.createElement("p",{className:e.emptyText},y?"Searching...":"Start typing to see results..."):r.a.createElement("div",null,r.a.createElement($,{repos:w.filter((function(e){return!h.includes(e.nameWithOwner)&&!i.containsRepo(e)})),onRepoClick:function(e){return function(t){t.preventDefault(),v((function(t){return[].concat(Object(d.a)(t),[e])}))}}})),E.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:e.text},"Selected:"),r.a.createElement($,{repos:E})):null,r.a.createElement("div",{className:e.buttonContainer},r.a.createElement("button",{className:e.saveButton,disabled:E.length<1,onClick:function(e){e.preventDefault(),i.addRepos(E),l(),p(""),v([])}},"Save")))))},oe=(n(77),function(e){e.onChoose;var t=function(){var e=Object(q.a)(U),t=e.data,n=Object(B.a)(e,["data"]);return Object(W.a)({data:t,repos:t?t.viewer.repositories.nodes:null},n)}(),n=t.loading,a=t.repos,o=t.error,l=A().selectedRepos,c=g(k,!0),i=Object(f.a)(c,2),s=i[0],u=i[1],m=I({barWrapper:"\n      flex flex-row mb-8 pt-4\n    ",container:"-mt-4 mb-12",text:"\n        mb-2 text-gray-900 dark:text-gray-500 font-light\n        leading-none\n    "});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m.barWrapper},r.a.createElement(J,{open:s,selectedCount:l.repos.length,onClick:function(){return u((function(e){return!e}))}}),r.a.createElement(Y,null)),r.a.createElement(G.a,{in:s,timeout:200,classNames:"picker",unmountOnExit:!0},r.a.createElement("div",{className:m.container},r.a.createElement("p",{className:m.text},"Get started by picking some repos you want to see:"),n?r.a.createElement("p",null,"Loading..."):o?r.a.createElement("p",null,"something went wrong..."):r.a.createElement(r.a.Fragment,null,r.a.createElement($,{repos:a.filter((function(e){return!l.containsRepo(e)})),onRepoClick:function(e){return function(t){t.preventDefault(),l.addRepo(e)}}}),l.repos.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:m.text},"Selected:"),r.a.createElement($,{repos:l.repos,onRepoClick:function(e){return function(t){t.preventDefault(),l.removeRepo(e)}},removable:!0})):null,r.a.createElement(re,null)))))}),le=function(e){var t=e.children,n=A().auth,o=I({container:"\n        flex flex-col items-center justify-center h-full\n    ",text:"\n        text-center max-w-md\n        text-gray-800 mb-4\n        dark:text-gray-600\n    ",link:"\n        text-purple-600 font-semibold\n    ",form:"\n        shadow-lg rounded\n    ",input:"\n        w-56 h-12 px-4 rounded-l\n        border border-r-0\n        border-gray-400 dark:border-gray-750\n        bg-gray-100 dark:bg-gray-600\n        focus:outline-none\n        focus:border-purple-600\n        placeholder-gray-500\n        text-gray-800 dark:text-gray-400\n    ",button:"\n        h-12 px-4 bg-purple-600 text-purple-100 rounded-r\n        border border-purple-800 border-l-0\n    "}),l=Object(a.useState)(""),c=Object(f.a)(l,2),i=c[0],s=c[1];return n.token?t:r.a.createElement("div",{className:o.container},r.a.createElement("p",{className:o.text},"Welcome! Before you can get started, you need to supply us with a Personal Access Token so we can see your repositories.",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/settings/tokens/new?scopes=repo&description=git-dash",target:"_blank",rel:"noopener noreferrer",className:o.link},"Click here to generate one on Github.")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.setToken(i)},className:o.form},r.a.createElement("input",{type:"text",value:i,onChange:function(e){return s(e.target.value)},placeholder:"Paste PAT Here",className:o.input}),r.a.createElement("button",{type:"submit",className:o.button},"Go")))},ce=n(95),ie=n(94),se=n(59),ue=n.n(se),me=function(e){var t=function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,a){return[t,t,n,n,a,a].join("")})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),a=Object(f.a)(n,4);return[a[1],a[2],a[3]].map((function(e){return parseInt(e,16)}))}(e),n=Object(f.a)(t,3),a=n[0],r=n[1],o=n[2];return Math.round((299*a+587*r+114*o)/1e3)>125?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)"},de=function(e,t){Object(a.useEffect)((function(){var n,a=(n=e,(Array.isArray(n)?n:[n]).map((function(e){return e instanceof HTMLElement||!e?e:e.current}))),r=function(e){a.some((function(t){return t&&t.contains(e.target)}))||t(e)};return document.addEventListener("mousedown",r),function(){return document.removeEventListener("mousedown",r)}}),[e,t])},fe=function(e){var t=e.label,n=e.buttons,o=void 0===n?null:n,l=e.IconComponent,c=I({container:"\n        relative mr-1\n    ",tag:"\n        leading-none text-xs px-2 py-1\n        rounded-full font-semibold\n        shadow-inner\n        focus:outline-none\n        focus:opacity-75\n        hover:shadow\n        flex items-center\n    ",icon:"\n        mr-1\n    ",tooltipWrapper:"\n        absolute bottom-full left-1/2 pb-1\n    ",tooltip:"\n        bg-white dark:bg-gray-750 rounded\n        border border-gray-300 dark:border-gray-800\n        shadow-lg py-1 min-w-48 flex flex-col items-stretch\n    ",button:"\n        lowercase whitespace-no-wrap\n        leading-none px-4 py-2 text-sm\n        text-gray-700 dark:text-gray-300\n        hover:bg-purple-300 hover:text-purple-800\n        dark-hover:bg-purple-600 dark-hover:text-purple-100\n        focus:outline-none\n        focus:bg-gray-200\n    "}),i=Object(a.useState)(!1),s=Object(f.a)(i,2),u=s[0],m=s[1],d=Object(a.useRef)();return de(d,Object(a.useCallback)((function(){m(!1)}),[])),r.a.createElement("div",{className:c.container},r.a.createElement("button",{onClick:function(){return m(!0)},disabled:!o,className:c.tag,style:{background:"#".concat(t.color),color:me(t.color)}},l?r.a.createElement(l,{className:c.icon,style:{fontSize:12}}):null,t.name),r.a.createElement("div",{ref:d,className:c.tooltipWrapper,style:{transform:"translateX(-50%)",display:u&&o?"block":"none"}},o?r.a.createElement("div",{className:c.tooltip},o({className:c.button,label:t,hideTooltip:function(){m(!1)}})):null))},pe=function(e){var t=e.labels,n=e.buttons,a=void 0===n?null:n,o=e.children,l=I({container:"\n        flex flex-row items-center\n    "});return r.a.createElement("div",{className:l.container},o,t.map((function(e){return r.a.createElement(fe,{key:e.name,label:e,buttons:a})})))},be=n(38),ge=n.n(be),Ee=n(52),ve=n.n(Ee),he=n(39),xe=n.n(he),ye=function(e){var t=e.status,n={SUCCESS:ge.a,ERROR:xe.a,FAILURE:xe.a,PENDING:ve.a}[t],a={SUCCESS:"text-green-600",ERROR:"text-red-600",FAILURE:"text-red-600",PENDING:"text-yellow-600"}[t];return n?r.a.createElement("span",{className:"ml-1 -mt-px ".concat(a)},r.a.createElement(n,{fontSize:"small"})):null},we=n(53),Oe=n.n(we),ke=n(54),Ne=n.n(ke),je=n(55),Re=n.n(je),Ce=n(57),Se=n.n(Ce),Me=n(56),Ae=n.n(Me),De=function(e){var t=e.status,n=e.offset,a=void 0===n?0:n,o=e.last,l=void 0!==o&&o,c=(Object(B.a)(e,["status","offset","last"]),I({container:"\n        w-8 h-8 absolute\n        flex items-center justify-center\n        rounded-full shadow-lg\n    ",icon:"\n        leading-none font-xs\n    "})),i={COMMENTED:Oe.a,CHANGES_REQUESTED:Ne.a,APPROVED:ge.a,PENDING:Re.a,DISMISSED:Ae.a}[t]||Se.a,s={COMMENTED:"bg-white",CHANGES_REQUESTED:"bg-red-500",APPROVED:"bg-green-600",PENDING:"bg-yellow-500",DISMISSED:"bg-purple-600"}[t]||"bg-gray-400",u={COMMENTED:"text-gray-600",CHANGES_REQUESTED:"text-red-100",APPROVED:"text-green-100",PENDING:"text-yellow-900",DISMISSED:"text-purple-100"}[t]||"text-gray-700",m={COMMENTED:"Commented",CHANGES_REQUESTED:"Changes Requested",APPROVED:"Approved",PENDING:"Pending",DISMISSED:"Dismissed"}[t]||"Unknown Status '".concat(t,"'"),d=.75+a*(l?.5:.4);return r.a.createElement("div",{className:"".concat(s," ").concat(u," ").concat(c.container),style:{left:"".concat(d,"rem"),bottom:"-.75rem",transform:l?"":"scale(0.8)"},title:m},r.a.createElement(i,{className:c.icon,fontSize:"inherit"}))},Te=function(e){var t=e.reviews,n=I({reviews:"\n        flex flex-row mt-3\n    ",review:"\n        relative mr-4\n    ",reviewerAvatar:"\n        w-10 h-10 rounded-full\n        shadow\n    ",reviewStatus:"\n        absolute\n    "}),o=Object(a.useMemo)((function(){return Object.values(t.reduce((function(e,t){return e[t.author.login]||(e[t.author.login]={author:t.author,reviews:[]}),"COMMENTED"!==t.state&&e[t.author.login].reviews.push(t),e}),{})).filter((function(e){return e.reviews.length>0}))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:n.reviews},o.map((function(e){var t=e.author,a=e.reviews;return r.a.createElement("div",{className:n.review,key:t.login},r.a.createElement("img",{src:t.avatarUrl,alt:t.login,className:n.reviewerAvatar}),r.a.createElement("div",null,a.map((function(e,t){return r.a.createElement(De,{key:e.id,status:e.state,offset:t,last:t===a.length-1})}))))}))))},Ie=n(58),Le=n.n(Ie),We=function(e){var t=e.plural,n=void 0!==t&&t,a=A().drafts;return r.a.createElement(fe,{label:{name:"draft".concat(n?"s":""),color:"CBD5E0"},IconComponent:Le.a,buttons:function(e){var t=e.className,n=e.hideTooltip;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:t,onClick:function(){a.toggleWhitelisted(),n()}},a.whitelisted?"remove from":"add to"," whitelist"),r.a.createElement("button",{className:t,onClick:function(){a.toggleBlacklisted(),n()}},a.blacklisted?"remove from":"add to"," blacklist"))}})},Be=function(e){var t=e.pullRequest,n=I({pullRequest:"\n        p-6\n        border-b border-gray-300 dark:border-gray-750\n        last:border-b-0\n    ",preTitle:"\n        flex flex-row items-center mb-1\n    ",owner:"\n        flex flex-row items-center\n    ",ownerAvatar:"\n        w-6 h-6 rounded-full shadow mr-1\n    ",repo:"\n        text-base text-gray-800 dark:text-gray-500 leading-none mr-2\n    ",titleBar:"\n        flex flex-row justify-between items-center mb-1\n    ",title:"\n        text-gray-900 font-semibold text-lg\n        dark:text-gray-300\n        block p-1 -mx-1\n    ",author:"\n        inline-flex flex-row items-center\n        relative\n        bg-gray-400 dark:bg-gray-850\n        rounded-full py-2 pl-3 pr-12\n        shadow-inner\n    ",authorAvatar:"\n        w-10 h-10 rounded-full\n        absolute right-0\n        shadow\n    ",authorName:"\n        text-sm leading-none whitespace-no-wrap\n        text-gray-900 dark:text-gray-400\n    ",timestamps:"\n        text-sm leading-none text-gray-700 dark:text-gray-500\n        pointer-events-none\n    ",branches:"\n        inline-flex flex-row items-center\n        text-xs px-2 mb-2 rounded\n        bg-gray-300 text-gray-800\n        dark:bg-gray-500 dark:text-gray-900\n    "}),o=A().labels,l=Object(ce.a)(Object(ie.a)(t.createdAt),"do MMM HH:mm"),c=Object(ce.a)(Object(ie.a)(t.updatedAt),"do MMM HH:mm"),i=Object(a.useMemo)((function(){var e=t.commits.nodes,n=(e[e.length-1]||{commit:null}).commit;return n&&n.statusCheckRollup?n.statusCheckRollup.state:null}),[t]);return r.a.createElement("div",{className:n.pullRequest,key:t.id},r.a.createElement("div",{className:n.titleBar},r.a.createElement("div",null,r.a.createElement("div",{className:n.preTitle},r.a.createElement("div",{className:n.owner},r.a.createElement("img",{src:t.repository.owner.avatarUrl,alt:t.repository.nameWithOwner,className:n.ownerAvatar}),r.a.createElement("p",{className:n.repo},t.repository.nameWithOwner)),t.isDraft&&r.a.createElement(We,null),r.a.createElement(pe,{labels:t.labels.nodes,buttons:function(e){var t=e.className,n=e.label,a=e.hideTooltip,l=o.listHasLabel(o.whitelist,n),c=o.listHasLabel(o.blacklist,n);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:t,onClick:function(){l?o.removeFromWhitelist(n):o.addToWhitelist(n),a()}},l?"remove from":"add to"," whitelist"),r.a.createElement("button",{className:t,onClick:function(){c?o.removeFromBlacklist(n):o.addToBlacklist(n),a()}},c?"remove from":"add to"," blacklist"))}})),r.a.createElement("a",{className:n.title,href:t.permalink,target:"_blank",rel:"noopener noreferrer"},t.title)),r.a.createElement("div",{className:n.author},r.a.createElement("img",{src:t.author.avatarUrl,alt:t.author.login,className:n.authorAvatar}),r.a.createElement("p",{className:n.authorName},t.author.login))),r.a.createElement("p",{className:n.branches},r.a.createElement("span",null,t.baseRefName),r.a.createElement(ue.a,null),r.a.createElement("span",null,t.headRefName)),r.a.createElement("p",{className:n.timestamps},"created ",l,", last updated ",c,r.a.createElement(ye,{status:i})),r.a.createElement(Te,{reviews:t.reviews.nodes}))};function Pe(){var e=Object(P.a)(["\n  query PullRequests($query: String!, $limit: Int!) {\n    search(query: $query, type: ISSUE, last: $limit) {\n      nodes {\n        ... on PullRequest {\n          id\n          title\n          createdAt\n          updatedAt\n          permalink\n          isDraft\n          baseRefName\n          headRefName\n          author {\n            login\n            avatarUrl\n          }\n          repository {\n            nameWithOwner\n            owner {\n              avatarUrl\n            }\n          }\n          labels(first: 15) {\n            nodes {\n              name\n              color\n            }\n          }\n          reviews(last: 100) {\n            nodes {\n              id\n              createdAt\n              state\n              author {\n                login\n                avatarUrl\n              }\n            }\n          }\n          commits(last: 1) {\n            nodes {\n              commit {\n                statusCheckRollup {\n                  state\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return Pe=function(){return e},e}var Fe=Object(F.a)(Pe()),qe=function(){var e=A(),t=e.selectedRepos,n=e.labels,o=e.drafts,l=I({pullRequests:"\n        bg-gray-100 dark:bg-gray-800\n        border-gray-300 dark:border-gray-750\n        mb-4 shadow-sm rounded border\n    ",empty:"\n      text-center p-8\n    ",emptyText:"\n      text-gray-700 dark:text-gray-500\n    "}),c=t.repos.length<1?10:100,i=function(e,t){var n=Object(q.a)(Fe,{variables:{query:e,limit:t},pollInterval:3e4}),a=n.data,r=Object(B.a)(n,["data"]);return Object(W.a)({data:a,pullRequests:a?a.search.nodes:null},r)}(Object(a.useMemo)((function(){var e=t.repos.map((function(e){return"repo:".concat(e.nameWithOwner)})).join(" "),a=n.filterEnabled?n.filterMode===C?n.blacklist.map((function(e){return'-label:"'.concat(e.name,'"')})).join(" "):n.whitelist.map((function(e){return'label:"'.concat(e.name,'"')})).join(" "):"",r=o.whitelisted&&n.filterMode===R?"is:draft":o.blacklisted&&n.filterMode===C?"-is:draft":"";return"is:pr is:open ".concat(e," ").concat(a," ").concat(r)}),[t.repos,n,o]),c),s=i.loading,u=i.error,m=i.pullRequests;return s?r.a.createElement("p",null,"Loading..."):u?r.a.createElement("p",null,"Something went wrong..."):r.a.createElement("div",{className:l.pullRequests},m.length>0?m.map((function(e){return r.a.createElement(Be,{pullRequest:e,key:e.id})})):r.a.createElement("div",{className:l.empty},r.a.createElement("p",{className:l.emptyText},"No open pull requests.")))},_e=function(){var e=A(),t=e.labels,n=e.drafts,a=t.filterMode,o=t.filterList,l=t.removeFromWhitelist,c=t.removeFromBlacklist,i=t.toggleFilterMode,s=t.filterEnabled,u=t.toggleFilter,m=I({container:"\n        flex flex-row justify-between\n        w-full mb-2 px-1\n    ",selected:"\n        flex flex-row items-center\n    ",selectedLabel:"\n        text-sm\n        mr-2 leading-none\n        text-gray-700 dark:text-gray-500\n    ",button:"\n        text-sm\n        text-purple-600\n        focus:outline-none\n        active:font-semibold\n    ",button2:"\n        text-sm ml-4\n        text-gray-700 dark:text-gray-500\n        focus:outline-none\n        active:font-semibold\n    "}),d=o.length<1;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m.container},r.a.createElement("div",{className:m.selected},s?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:m.selectedLabel},a===R?d&&!n.whitelisted?"no items in whitelist":"showing only":d&&!n.blacklisted?"no items in blacklist":"hiding"),r.a.createElement(pe,{labels:o,buttons:function(e){var t=e.className,n=e.label;return r.a.createElement("button",{className:t,onClick:function(){return a===R?l(n):c(n)}},"remove from ",a.toLowerCase())}},a===R&&n.whitelisted||a===C&&n.blacklisted?r.a.createElement(We,{plural:!0}):null)):null),r.a.createElement("div",null,s?r.a.createElement("button",{className:m.button,onClick:function(){return i()}},"switch to"," ",a===R?"blacklist":"whitelist"," ","mode"):null,r.a.createElement("button",{className:m.button2,onClick:function(){return u()}},s?"disable":"enable"," filter"))))},Ue=(n(78),function(){return r.a.createElement(c.b,null,r.a.createElement(D,null,r.a.createElement(L,null,r.a.createElement(le,null,r.a.createElement(T,null,r.a.createElement(oe,null),r.a.createElement(_e,null),r.a.createElement(qe,null))))))});n(79);l.a.render(r.a.createElement(Ue,null),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.54e29498.chunk.js.map