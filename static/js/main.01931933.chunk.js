(this["webpackJsonpgit-dash"]=this["webpackJsonpgit-dash"]||[]).push([[0],{54:function(e,n,t){e.exports=t(71)},62:function(e,n,t){},68:function(e,n,t){},69:function(e,n,t){},71:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(31),l=t.n(o),c=t(26),i=t(30),u=t(15),s=t(12),m=t(23),d=t(7),f=function(e,n){var t,a=localStorage.getItem(e);return a?(t=a,JSON.parse(t)):n},b=function(e,n){return localStorage.setItem(e,(t=n,JSON.stringify(t)));var t},p=function(e,n){var t=Object(a.useRef)(e),r=Object(a.useState)((function(){return f(t.current,n)})),o=Object(d.a)(r,2),l=o[0],c=o[1];return Object(a.useEffect)((function(){b(t.current,l)}),[l]),[l,c]},g="AUTH",E="SELECTED_REPOS",v="LABEL_WHITELIST",h="LABEL_BLACKLIST",w="LABEL_FILTER_ENABLED",x="LABEL_FILTER_MODE",y="DARK_MODE",O="WHITELIST",k="BLACKLIST",N=function(){var e=p(y,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),n=Object(d.a)(e,2),t=n[0],r=n[1];return Object(a.useEffect)((function(){t?document.documentElement.classList.add("mode-dark"):document.documentElement.classList.remove("mode-dark")}),[t]),Object(a.useMemo)((function(){return{isDarkMode:t,toggleDarkMode:function(){r((function(e){return!e}))}}}),[t,r])},j=Object(a.createContext)(),M=function(){return Object(a.useContext)(j)},A=function(e){var n=e.children,t=function(){var e=p(g,""),n=Object(d.a)(e,2),t=n[0],r=n[1];return Object(a.useMemo)((function(){return{token:t,setToken:r}}),[t,r])}(),o=function(){var e=p(E,[]),n=Object(d.a)(e,2),t=n[0],r=n[1],o=Object(a.useMemo)((function(){return e=function(e){return e.owner.login},t.reduce((function(n,t,a){var r=e(t,a);return n[r]?n[r].push(t):n[r]=[t],n}),{});var e}),[t]),l=Object(a.useMemo)((function(){return t.map((function(e){return e.nameWithOwner}))}),[t]);return Object(a.useMemo)((function(){return{repos:t,groupedRepos:o,repoKeys:l,containsRepo:function(e){return l.includes(e.nameWithOwner)},addRepo:function(e){r((function(n){return[].concat(Object(m.a)(n),[e])}))},removeRepo:function(e){r((function(n){return n.filter((function(n){return n.nameWithOwner!==e.nameWithOwner}))}))}}}),[t,o,l,r])}(),l=function(){var e=k,n=O,t=p(w,!1),r=Object(d.a)(t,2),o=r[0],l=r[1],c=p(x,e),i=Object(d.a)(c,2),u=i[0],s=i[1],f=p(v,[]),b=Object(d.a)(f,2),g=b[0],E=b[1],y=p(h,[]),N=Object(d.a)(y,2),j=N[0],M=N[1],A=Object(a.useCallback)((function(e){return function(n){return n.findIndex((function(n){return n.name===e.name}))>=0?n:[].concat(Object(m.a)(n),[e])}}),[]);return Object(a.useMemo)((function(){return{whitelist:g,blacklist:j,filterMode:u,filterList:u===n?g:j,filterEnabled:o,listHasLabel:function(e,n){return e.findIndex((function(e){return e.name===n.name}))>=0},toggleFilter:function(){l((function(e){return!e}))},toggleFilterMode:function(){s((function(t){return t===n?e:n}))},addToWhitelist:function(e){E(A(e))},clearWhitelist:function(){E([])},removeFromWhitelist:function(e){E((function(n){return n.filter((function(n){return n.name!==e.name}))}))},addToBlacklist:function(e){M(A(e))},clearBlacklist:function(){M([])},removeFromBlacklist:function(e){M((function(n){return n.filter((function(n){return n.name!==e.name}))}))}}}),[g,j,E,M,u,s,o,l,e,n,A])}(),c=N(),i=Object(a.useMemo)((function(){return{auth:t,selectedRepos:o,labels:l,darkMode:c}}),[t,o,l,c]);return r.a.createElement(j.Provider,{value:i},n)},R=function(e){var n=e.children,t=M().auth.token,o=Object(a.useMemo)((function(){return new c.a}),[]),l=Object(a.useMemo)((function(){return new i.a({uri:"https://api.github.com/graphql",headers:{authorization:"bearer ".concat(t)}})}),[t]),m=Object(a.useMemo)((function(){return new u.a({link:l,cache:o})}),[l,o]);return r.a.createElement(s.a,{client:m},n)},C=function(e){return Object(a.useMemo)((function(){return Object.entries(e).reduce((function(e,n){var t=Object(d.a)(n,2),a=t[0],r=t[1];return e[a]=Array.isArray(r)?r.join(" "):r,e}),{})}),[e])},L=function(e){var n=e.children,t=C({container:"\n      px-8 max-w-5xl mx-auto h-full\n    "});return r.a.createElement("div",{className:t.container},n)},T=t(34),S=t(6),D=t(35),I=t(27),W=t(25);function B(){var e=Object(D.a)(["\n  {\n    viewer {\n      repositories(\n        first: 12\n        affiliations: [OWNER, ORGANIZATION_MEMBER, COLLABORATOR]\n        ownerAffiliations: [OWNER, ORGANIZATION_MEMBER, COLLABORATOR]\n        orderBy: { field: UPDATED_AT, direction: DESC }\n      ) {\n        nodes {\n          name\n          nameWithOwner\n          owner {\n            login\n            avatarUrl\n          }\n        }\n      }\n    }\n  }\n"]);return B=function(){return e},e}var F=Object(I.a)(B()),H=t(85),P=t(84),q=(t(62),function(e){var n=e.repos,t=e.onRepoClick,a=void 0===t?null:t,o=e.removable,l=void 0!==o&&o,c=C({repos:"\n        flex flex-row items-center justify-center flex-wrap mb-4\n    ",repo:"\n        bg-gray-400 dark:bg-gray-800\n        focus:bg-purple-300 dark-focus:bg-purple-800\n        text-gray-800 dark:text-gray-400\n        focus:text-purple-800 dark-focus:text-purple-300\n        inline-block whitespace-no-wrap\n        m-1 rounded-full p-1 pr-3\n        flex flex-row items-center\n\n        hover:bg-gray-500\n        focus:outline-none\n    ",imageContainer:"\n        relative mr-2 rounded-full overflow-hidden\n    ",removeOverlay:"\n        absolute top-0 bottom-0 right-0 left-0\n        bg-gray-600\n        flex items-center justify-center\n        opacity-75\n    ",removeIcon:"text-gray-200 text-xs leading-none",image:"\n        w-6 h-6\n    ",text:"\n        text-sm leading-none font-semibold\n    "});return r.a.createElement(H.a,{className:c.repos},n.map((function(e){return r.a.createElement(P.a,{key:e.nameWithOwner,timeout:200,classNames:"item"},r.a.createElement("button",{className:c.repo,onClick:a?a(e):null},r.a.createElement("div",{className:c.imageContainer},r.a.createElement("img",{src:e.owner.avatarUrl,className:c.image,alt:e.nameWithOwner}),l?r.a.createElement("div",{className:c.removeOverlay},r.a.createElement("p",{className:c.removeIcon},"\u2715")):null),r.a.createElement("p",{className:c.text},e.nameWithOwner)))})))}),_=t(43),U=t.n(_),G=function(e){var n=e.open,t=e.selectedCount,a=e.onClick,o=C({button:"\n      bg-gray-100 dark:bg-gray-800\n      border-gray-300 dark:border-gray-750\n      mb-4 py-2 px-4 shadow-sm rounded border\n      text-gray-800 dark:text-white text-sm leading-loose\n      flex justify-between w-full\n    ",icon:"\n      transition transition-transform duration-200 ease-in-out\n      transform rotate-90\n    ",open:"\n       rotate-180\n    ",count:"\n       font-bold\n    "}),l=0!==t||n?" ".concat(1===t?"repository":"repositories"," selected"):"Click to select repositories you want to see";return r.a.createElement("button",{className:o.button,onClick:a},r.a.createElement("div",{className:[o.icon,n?o.open:null]},r.a.createElement(U.a,null)),r.a.createElement("div",null,r.a.createElement("span",{className:o.count},n?t:t||""),l))},$=(t(68),function(e){e.onChoose;var n=function(){var e=Object(W.a)(F),n=e.data,t=Object(S.a)(e,["data"]);return Object(T.a)({data:n,repos:n?n.viewer.repositories.nodes:null},t)}(),t=n.loading,o=n.repos,l=n.error,c=M().selectedRepos,i=Object(a.useState)(!1),u=Object(d.a)(i,2),s=u[0],m=u[1],f=C({container:"\n      pt-4\n    ",text:"\n        mb-2 text-gray-900 dark:text-gray-500 font-light\n    "});return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{open:s,selectedCount:c.repos.length,onClick:function(){return m(!s)}}),r.a.createElement(P.a,{in:s,timeout:200,classNames:"picker",unmountOnExit:!0},r.a.createElement("div",{className:[f.container]},r.a.createElement("p",{className:f.text},"Get started by picking some repos you want to see:"),t?r.a.createElement("p",null,"Loading..."):l?r.a.createElement("p",null,"something went wrong..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{repos:o.filter((function(e){return!c.containsRepo(e)})),onRepoClick:function(e){return function(n){n.preventDefault(),c.addRepo(e)}}}),c.repos.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:f.text},"Selected:"),r.a.createElement(q,{repos:c.repos,onRepoClick:function(e){return function(n){n.preventDefault(),c.removeRepo(e)}},removable:!0})):null))))}),z=function(e){var n=e.children,t=M().auth,o=C({container:"\n        flex flex-col items-center justify-center h-full\n    ",text:"\n        text-center max-w-md\n        text-gray-800 mb-4\n    ",link:"\n        text-purple-600 font-semibold\n    ",form:"\n        shadow-lg rounded\n    ",input:"\n        w-56 h-12 px-4 rounded-l\n        border border-gray-400 border-r-0\n        focus:outline-none\n        focus:border-purple-600\n    ",button:"\n        h-12 px-4 bg-purple-600 text-purple-100 rounded-r\n        border border-purple-800 border-l-0\n    "}),l=Object(a.useState)(""),c=Object(d.a)(l,2),i=c[0],u=c[1];return t.token?n:r.a.createElement("div",{className:o.container},r.a.createElement("p",{className:o.text},"Welcome! Before you can get started, you need to supply us with a Personal Access Token so we can see your repositories.",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/settings/tokens/new?scopes=repo&description=git-dash",target:"_blank",rel:"noopener noreferrer",className:o.link},"Click here to generate one on Github.")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.setToken(i)},className:o.form},r.a.createElement("input",{type:"text",value:i,onChange:function(e){return u(e.target.value)},placeholder:"Paste PAT Here",className:o.input}),r.a.createElement("button",{type:"submit",className:o.button},"Go")))},J=t(83),K=t(82),Q=t(45),V=t.n(Q),Z=t(46),X=t.n(Z),Y=t(47),ee=t.n(Y),ne=t(48),te=t.n(ne),ae=function(e){var n=e.status,t=(Object(S.a)(e,["status"]),C({container:"\n        w-8 h-8 absolute\n        flex items-center justify-center\n        rounded-full shadow\n    ",icon:"\n        leading-none font-xs\n    "})),a={COMMENTED:V.a,CHANGES_REQUESTED:X.a,APPROVED:ee.a,PENDING:te.a}[n],o={COMMENTED:"bg-white",CHANGES_REQUESTED:"bg-red-500",APPROVED:"bg-green-600",PENDING:"bg-yellow-500"}[n],l={COMMENTED:"text-gray-600",CHANGES_REQUESTED:"text-red-100",APPROVED:"text-green-100",PENDING:"text-yellow-900"}[n];return r.a.createElement("div",{className:"".concat(o," ").concat(l," ").concat(t.container),style:{right:"-.75rem",bottom:"-.75rem"}},r.a.createElement(a,{className:t.icon,fontSize:"inherit"}))},re=function(e){var n=function(e){var n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,n,t,a){return[n,n,t,t,a,a].join("")})),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),a=Object(d.a)(t,4);return[a[1],a[2],a[3]].map((function(e){return parseInt(e,16)}))}(e),t=Object(d.a)(n,3),a=t[0],r=t[1],o=t[2];return Math.round((299*a+587*r+114*o)/1e3)>125?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)"},oe=function(e,n){Object(a.useEffect)((function(){var t,a=(t=e,(Array.isArray(t)?t:[t]).map((function(e){return e instanceof HTMLElement||!e?e:e.current}))),r=function(e){a.some((function(n){return n&&n.contains(e.target)}))||n(e)};return document.addEventListener("mousedown",r),function(){return document.removeEventListener("mousedown",r)}}),[e,n])},le=function(e){var n=e.label,t=e.buttons,o=void 0===t?null:t,l=C({container:"\n        relative mr-1\n    ",tag:"\n        leading-none text-xs px-2 py-1\n        rounded-full font-semibold\n        shadow-inner\n        focus:outline-none\n        focus:opacity-75\n        hover:shadow\n    ",tooltipWrapper:"\n        absolute bottom-full left-1/2 pb-1\n    ",tooltip:"\n        bg-white rounded border border-gray-300\n        shadow-lg py-1 min-w-48 flex flex-col items-stretch\n    ",button:"\n        lowercase whitespace-no-wrap\n        leading-none px-4 py-2 text-sm text-gray-700\n        hover:bg-purple-300 hover:text-purple-800\n        focus:outline-none\n        focus:bg-gray-200\n    "}),c=Object(a.useState)(!1),i=Object(d.a)(c,2),u=i[0],s=i[1],m=Object(a.useRef)();return oe(m,Object(a.useCallback)((function(){s(!1)}),[])),r.a.createElement("div",{className:l.container},r.a.createElement("button",{onClick:function(){return s(!0)},disabled:!o,className:l.tag,style:{background:"#".concat(n.color),color:re(n.color)}},n.name),r.a.createElement("div",{ref:m,className:l.tooltipWrapper,style:{transform:"translateX(-50%)",display:u&&o?"block":"none"}},o?r.a.createElement("div",{className:l.tooltip},o({className:l.button,label:n,hideTooltip:function(){s(!1)}})):null))},ce=function(e){var n=e.labels,t=e.buttons,a=void 0===t?null:t,o=C({container:"\n        flex flex-row items-center\n    "});return r.a.createElement("div",{className:o.container},n.map((function(e){return r.a.createElement(le,{key:e.name,label:e,buttons:a})})))},ie=function(e){var n=e.pullRequest,t=C({pullRequest:"\n        p-6\n        border-b border-gray-300 dark:border-gray-750\n        last:border-b-0\n    ",preTitle:"\n        flex flex-row items-center mb-1\n    ",owner:"\n        flex flex-row items-center\n    ",ownerAvatar:"\n        w-6 h-6 rounded-full shadow mr-1\n    ",repo:"\n        text-base text-gray-800 dark:text-gray-500 leading-none mr-2\n    ",titleBar:"\n        flex flex-row justify-between items-center mb-1\n    ",title:"\n        text-gray-900 font-semibold text-lg\n        dark:text-gray-300\n        block p-1 -mx-1\n    ",author:"\n        inline-flex flex-row items-center\n        relative\n        bg-gray-400 dark:bg-gray-850\n        rounded-full py-2 pl-3 pr-12\n        shadow-inner\n    ",authorAvatar:"\n        w-10 h-10 rounded-full\n        absolute right-0\n        shadow\n    ",authorName:"\n        text-sm leading-none whitespace-no-wrap\n        text-gray-900 dark:text-gray-400\n    ",timestamps:"\n        text-sm leading-none text-gray-700 dark:text-gray-500\n        pointer-events-none\n    ",reviewers:"\n        flex flex-row mt-3\n    ",review:"\n        relative mr-4\n    ",reviewerAvatar:"\n        w-10 h-10 rounded-full\n        shadow\n    ",reviewStatus:"\n        absolute\n    "}),a=M().labels,o=Object(J.a)(Object(K.a)(n.createdAt),"do MMM HH:mm"),l=Object(J.a)(Object(K.a)(n.updatedAt),"do MMM HH:mm");return r.a.createElement("div",{className:t.pullRequest,key:n.id},r.a.createElement("div",{className:t.titleBar},r.a.createElement("div",null,r.a.createElement("div",{className:t.preTitle},r.a.createElement("div",{className:t.owner},r.a.createElement("img",{src:n.repository.owner.avatarUrl,alt:n.repository.nameWithOwner,className:t.ownerAvatar}),r.a.createElement("p",{className:t.repo},n.repository.nameWithOwner)),r.a.createElement(ce,{labels:n.labels.nodes,buttons:function(e){var n=e.className,t=e.label,o=e.hideTooltip,l=a.listHasLabel(a.whitelist,t),c=a.listHasLabel(a.blacklist,t);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:n,onClick:function(){l?a.removeFromWhitelist(t):a.addToWhitelist(t),o()}},l?"remove from":"add to"," whitelist"),r.a.createElement("button",{className:n,onClick:function(){c?a.removeFromBlacklist(t):a.addToBlacklist(t),o()}},c?"remove from":"add to"," blacklist"))}})),r.a.createElement("a",{className:t.title,href:n.permalink,target:"_blank",rel:"noopener noreferrer"},n.title)),r.a.createElement("div",{className:t.author},r.a.createElement("img",{src:n.author.avatarUrl,alt:n.author.login,className:t.authorAvatar}),r.a.createElement("p",{className:t.authorName},n.author.login))),r.a.createElement("p",{className:t.timestamps},"created ",o,", last updated ",l),r.a.createElement("div",{className:t.reviewers},n.reviews.nodes.filter((function(e){return"COMMENTED"!==e.state})).map((function(e){return r.a.createElement("div",{className:t.review,key:e.id,title:"Created ".concat(Object(J.a)(Object(K.a)(e.createdAt),"do MMM HH:mm"))},r.a.createElement("img",{src:e.author.avatarUrl,alt:e.author.login,className:t.reviewerAvatar}),r.a.createElement(ae,{status:e.state}))}))))};function ue(){var e=Object(D.a)(["\n  query PullRequests($query: String!, $limit: Int!) {\n    search(query: $query, type: ISSUE, last: $limit) {\n      nodes {\n        ... on PullRequest {\n          id\n          title\n          createdAt\n          updatedAt\n          permalink\n          author {\n            login\n            avatarUrl\n          }\n          repository {\n            nameWithOwner\n            owner {\n              avatarUrl\n            }\n          }\n          labels(first: 15) {\n            nodes {\n              name\n              color\n            }\n          }\n          reviews(last: 100) {\n            nodes {\n              id\n              createdAt\n              state\n              author {\n                login\n                avatarUrl\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return ue=function(){return e},e}var se=Object(I.a)(ue()),me=function(){var e=M(),n=e.selectedRepos,t=e.labels,o=C({pullRequests:"\n        bg-gray-100 dark:bg-gray-800\n        border-gray-300 dark:border-gray-750\n        mb-4 shadow-sm rounded border\n    "}),l=n.repos.length<1?10:100,c=function(e,n){var t=Object(W.a)(se,{variables:{query:e,limit:n},pollInterval:3e4}),a=t.data,r=Object(S.a)(t,["data"]);return Object(T.a)({data:a,pullRequests:a?a.search.nodes:null},r)}(Object(a.useMemo)((function(){var e=n.repos.map((function(e){return"repo:".concat(e.nameWithOwner)})).join(" "),a=t.filterEnabled?t.filterMode===k?t.blacklist.map((function(e){return'-label:"'.concat(e.name,'"')})).join(" "):t.whitelist.map((function(e){return'label:"'.concat(e.name,'"')})).join(" "):"";return"is:pr is:open ".concat(e," ").concat(a)}),[n.repos,t]),l),i=c.loading,u=c.error,s=c.pullRequests;return i?r.a.createElement("p",null,"Loading..."):u?r.a.createElement("p",null,"Something went wrong..."):r.a.createElement("div",{className:o.pullRequests},s.map((function(e){return r.a.createElement(ie,{pullRequest:e,key:e.id})})))},de=function(){var e=M().labels,n=e.filterMode,t=e.filterList,a=e.removeFromWhitelist,o=e.removeFromBlacklist,l=e.toggleFilterMode,c=e.filterEnabled,i=e.toggleFilter,u=C({container:"\n        flex flex-row justify-between items-end\n        w-full mb-2 px-1 mt-16\n    ",selected:"\n        flex flex-row items-center\n    ",selectedLabel:"\n        -mb-px text-sm\n        mr-2 leading-none\n        text-gray-700 dark:text-gray-500\n    ",button:"\n        text-sm\n        text-purple-600\n        focus:outline-none\n        active:font-semibold\n    ",button2:"\n        text-sm ml-4\n        text-gray-700 dark:text-gray-500\n        focus:outline-none\n        active:font-semibold\n    "}),s=t.length<1;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:u.container},r.a.createElement("div",{className:u.selected},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:u.selectedLabel},n===O?s?"no items in whitelist":"showing only":s?"no items in blacklist":"hiding"),r.a.createElement(ce,{labels:t,buttons:function(e){var t=e.className,l=e.label;return r.a.createElement("button",{className:t,onClick:function(){return n===O?a(l):o(l)}},"remove from ",n.toLowerCase())}})):null),r.a.createElement("div",null,c?r.a.createElement("button",{className:u.button,onClick:function(){return l()}},"switch to"," ",n===O?"blacklist":"whitelist"," ","mode"):null,r.a.createElement("button",{className:u.button2,onClick:function(){return i()}},c?"disable":"enable"," filter"))))},fe=t(49),be=t.n(fe),pe=t(50),ge=t.n(pe),Ee=function(){var e=M().darkMode,n=C({container:"\n        py-4 flex flex-row items-center justify-end\n    ",icon:"\n        text-gray-600\n    ",switch:"\n        bg-gray-400 dark:bg-gray-800\n        box-content\n        border-2 border-gray-400 dark:border-gray-800\n        w-12 h-6 rounded-full\n        relative\n        focus:outline-none\n        transition-shadow duration-200\n        active:shadow\n        mx-2\n    ",knob:"\n        w-6 h-6 rounded-full\n        bg-gray-200 dark:bg-gray-700\n        absolute top-0 left-1/2\n        transition-transform duration-200\n        transform translate-x-0\n    ",knobInactive:"\n        -translate-x-full\n    "});return r.a.createElement("div",{className:n.container},r.a.createElement(be.a,{className:n.icon,fontSize:"small"}),r.a.createElement("button",{onClick:function(){return e.toggleDarkMode()},className:n.switch},r.a.createElement("div",{className:[n.knob,e.isDarkMode?n.knobActive:n.knobInactive]})),r.a.createElement(ge.a,{className:n.icon,fontSize:"small"}))};t(69);l.a.render(r.a.createElement((function(){return r.a.createElement(A,null,r.a.createElement(L,null,r.a.createElement(z,null,r.a.createElement(R,null,r.a.createElement(Ee,null),r.a.createElement($,null),r.a.createElement(de,null),r.a.createElement(me,null)))))}),null),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.01931933.chunk.js.map